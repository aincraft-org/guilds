# Database configuration
database:
  # Database type: sqlite, mysql, mariadb, postgresql, h2
  type: sqlite

  # File path for SQLite/H2 (relative to plugin folder)
  file-path: "guilds.db"

  # Server connection settings (for MySQL, MariaDB, PostgreSQL)
  host: "localhost"
  port: 3306  # 3306 for MySQL/MariaDB, 5432 for PostgreSQL
  database: "guilds"
  username: "minecraft"
  password: "secure_password"

  # Connection pool settings (used for MySQL, MariaDB, PostgreSQL, H2)
  pool:
    maximum-pool-size: 10
    minimum-idle: 2
    connection-timeout: 30000
    idle-timeout: 600000
    max-lifetime: 1800000

# Guild chunk claim settings
claim:
  # Minimum buffer distance between different guild territories (in chunks)
  # Uses Manhattan distance: |dx| + |dz| must be >= buffer-distance
  # Set to 0 to disable buffer (allows adjacent claims)
  # Default: 4 chunks
  buffer-distance: 4

# Guild progression settings
progression:
  # Maximum level guilds can reach
  max-level: 100

  # Base XP required for level 2 (formula: base-xp * (growth-factor ^ (level-1)))
  base-xp: 1000

  # Exponential growth factor for XP requirements
  growth-factor: 1.15

  # XP sources configuration
  xp-sources:
    mob-kill:
      enabled: true
      base-xp: 10
      multipliers:
        ZOMBIE: 1.0
        SKELETON: 1.0
        CREEPER: 1.2
        SPIDER: 1.0
        ENDERMAN: 2.0
        BLAZE: 1.5
        WITHER_SKELETON: 3.0
        ENDER_DRAGON: 100.0
        WITHER: 50.0

    block-mining:
      enabled: true
      base-xp: 1
      multipliers:
        DIAMOND_ORE: 10.0
        DEEPSLATE_DIAMOND_ORE: 10.0
        EMERALD_ORE: 15.0
        DEEPSLATE_EMERALD_ORE: 15.0
        ANCIENT_DEBRIS: 20.0
        GOLD_ORE: 2.0
        DEEPSLATE_GOLD_ORE: 2.0
        IRON_ORE: 1.5
        DEEPSLATE_IRON_ORE: 1.5

    playtime:
      enabled: true
      xp-per-minute: 5
      check-interval-seconds: 60

  # Rewards for leveling up
  rewards:
    members-per-level: 2
    chunks-per-level: 5
    base-max-members: 100
    base-max-chunks: 50

  # Material costs for leveling up
  # Costs are procedurally generated per guild using weighted probability selection
  # Materials are defined via API with level ranges and probability curves
  # Defaults include:
  #   - Common materials (levels 1-50): Iron, Coal, Copper, Cobblestone, etc.
  #   - Uncommon materials (levels 20-75): Gold, Redstone, Lapis, Quartz, etc.
  #   - Rare materials (levels 40-100): Diamond, Emerald, Ender Pearl, etc.
  #   - Very rare materials (levels 70-100): Netherite, Nether Star, etc.
  #
  # Use the MaterialRegistry API to register custom materials with:
  #   - minLevel: Minimum guild level for material to appear
  #   - maxLevel: Maximum guild level for material to appear
  #   - baseAmount: Base quantity before exponential scaling
  #   - probability: Selection weight (higher = more likely)

# Guild Projects system
# Projects are collaborative guild goals that grant temporary buffs
projects:
  # Number of projects in the random pool per guild
  pool-size: 3

  # Interval in seconds to check for expired buffs
  expiration-check-interval: 60

  # Daily pool refresh interval in hours (default 24 hours)
  # When a guild accesses their project pool, if this many hours have passed since last refresh, the pool auto-refreshes
  refresh-interval-hours: 24

  # Project definitions
  # Each project has: name, description, required-level, buff, quests, materials
  definitions:
    xp_boost_i:
      name: "Experience Boost I"
      description: "Increases guild XP gain by 25%"
      required-level: 1
      buff:
        type: ECONOMY
        category: XP_MULTIPLIER
        value: 1.25
        display-name: "25% XP Boost"
        duration: 7d
      quests:
        - type: KILL_MOB
          target: ZOMBIE
          count: 500
          description: "Kill 500 Zombies"
        - type: MINE_BLOCK
          target: COAL_ORE
          count: 1000
          description: "Mine 1000 Coal Ore"
      materials:
        IRON_INGOT: 256
        COAL: 512

    xp_boost_ii:
      name: "Experience Boost II"
      description: "Increases guild XP gain by 50%"
      required-level: 25
      buff:
        type: ECONOMY
        category: XP_MULTIPLIER
        value: 1.5
        display-name: "50% XP Boost"
        duration: 5d
      quests:
        - type: KILL_MOB
          target: SKELETON
          count: 750
          description: "Kill 750 Skeletons"
        - type: CRAFT_ITEM
          target: GOLDEN_APPLE
          count: 64
          description: "Craft 64 Golden Apples"
      materials:
        GOLD_INGOT: 256
        DIAMOND: 64

    fertile_lands:
      name: "Fertile Lands"
      description: "Crops grow 50% faster in territory"
      required-level: 15
      buff:
        type: TERRITORY
        category: CROP_GROWTH_SPEED
        value: 1.5
        display-name: "50% Faster Crops"
        duration: 3d
      quests:
        - type: COLLECT_ITEM
          target: WHEAT
          count: 2000
          description: "Collect 2000 Wheat"
        - type: BREED_MOB
          target: COW
          count: 100
          description: "Breed 100 Cows"
      materials:
        BONE_MEAL: 512
        WHEAT_SEEDS: 256

    guardian_shield:
      name: "Guardian's Shield"
      description: "Members take 15% less damage in territory"
      required-level: 40
      buff:
        type: TERRITORY
        category: PROTECTION_BOOST
        value: 0.85
        display-name: "15% Damage Reduction"
        duration: 5d
      quests:
        - type: KILL_MOB
          target: WITHER_SKELETON
          count: 200
          description: "Kill 200 Wither Skeletons"
        - type: PLAYTIME_HOURS
          target: HOURS
          count: 50
          description: "50 hours of guild playtime"
      materials:
        DIAMOND: 128
        OBSIDIAN: 256
        BLAZE_ROD: 64

    lucky_harvest:
      name: "Lucky Harvest"
      description: "Increased luck on drops"
      required-level: 30
      buff:
        type: ECONOMY
        category: LUCK_BONUS
        value: 1.2
        display-name: "20% Luck Bonus"
        duration: 4d
      quests:
        - type: FISH_ITEM
          target: COD
          count: 500
          description: "Catch 500 Cod"
        - type: MINE_BLOCK
          target: DIAMOND_ORE
          count: 100
          description: "Mine 100 Diamond Ore"
      materials:
        EMERALD: 128
        RABBIT_FOOT: 32

# LLM Integration for creative project name/description generation
# When enabled, projects receive AI-generated thematic names and descriptions instead of generic ones
llm:
  # Enable LLM-based project name/description generation
  # Set to false to disable and use heuristic-based names only
  enabled: false

  # LLM provider: "groq" or "huggingface"
  provider: "groq"

  # Groq API configuration
  groq:
    # API key for Groq (get from https://console.groq.com)
    # Set via environment variable GROQ_API_KEY if not specified here
    api-key: ""
    # Model name (default: llama-3.1-8b-instant)
    # Other options: llama-3.1-70b-versatile, llama-3.1-405b-reasoning, mixtral-8x7b-32768
    model: "llama-3.1-8b-instant"

  # HuggingFace API configuration (alternative to Groq)
  huggingface:
    # API key for HuggingFace (get from https://huggingface.co/settings/tokens)
    # Set via environment variable HUGGINGFACE_API_KEY if not specified here
    api-key: ""
    # Model name (default: microsoft/Phi-3-mini-4k-instruct)
    # Other options: meta-llama/Llama-2-7b, mistralai/Mistral-7B-Instruct-v0.1
    model: "microsoft/Phi-3-mini-4k-instruct"

  # Cache settings for generated texts
  # LLM responses are cached to avoid repeated API calls
  cache:
    # Minimum cache size threshold before async generation is triggered
    # If cache falls below this, background generation is queued
    threshold: 20
    # Maximum number of texts to keep per buff type
    # Old entries are automatically pruned to maintain size
    max-per-buff-type: 100

  # Rate limiting to prevent API flooding
  # Only one batch generation request runs at a time across the entire server
  rate-limit-cooldown-seconds: 60

# Skill Tree system
# Permanent skill unlocks that provide passive buffs to guild members
skill-tree:
  # Skill points awarded per guild level up
  sp-per-level: 1

  # Respec settings
  respec:
    enabled: true
    material: NETHER_STAR
    amount: 1

  # Skill definitions organized by branch
  # Each skill has: name, description, branch, tier, sp-cost, prerequisites, effect
  skills:
    # ============ ECONOMY BRANCH ============
    # Tier 1
    eco_xp_boost_1:
      name: "XP Insight I"
      description: "Gain 5% more guild XP from all sources"
      branch: ECONOMY
      tier: 1
      sp-cost: 1
      prerequisites: []
      effect:
        category: XP_MULTIPLIER
        value: 0.05
        display-name: "+5% XP"

    eco_luck_1:
      name: "Fortune's Favor I"
      description: "Increase luck bonus by 5%"
      branch: ECONOMY
      tier: 1
      sp-cost: 1
      prerequisites: []
      effect:
        category: LUCK_BONUS
        value: 0.05
        display-name: "+5% Luck"

    # Tier 2
    eco_xp_boost_2:
      name: "XP Insight II"
      description: "Gain 10% more guild XP from all sources"
      branch: ECONOMY
      tier: 2
      sp-cost: 2
      prerequisites:
        - eco_xp_boost_1
      effect:
        category: XP_MULTIPLIER
        value: 0.10
        display-name: "+10% XP"

    eco_luck_2:
      name: "Fortune's Favor II"
      description: "Increase luck bonus by 10%"
      branch: ECONOMY
      tier: 2
      sp-cost: 2
      prerequisites:
        - eco_luck_1
      effect:
        category: LUCK_BONUS
        value: 0.10
        display-name: "+10% Luck"

    # Tier 3
    eco_xp_boost_3:
      name: "XP Mastery"
      description: "Gain 15% more guild XP from all sources"
      branch: ECONOMY
      tier: 3
      sp-cost: 3
      prerequisites:
        - eco_xp_boost_2
      effect:
        category: XP_MULTIPLIER
        value: 0.15
        display-name: "+15% XP"

    eco_crop_1:
      name: "Green Thumb I"
      description: "Crops grow 10% faster in territory"
      branch: ECONOMY
      tier: 3
      sp-cost: 2
      prerequisites:
        - eco_luck_1
      effect:
        category: CROP_GROWTH_SPEED
        value: 0.10
        display-name: "+10% Crop Speed"

    # Tier 4
    eco_xp_boost_4:
      name: "XP Expertise"
      description: "Gain 20% more guild XP from all sources"
      branch: ECONOMY
      tier: 4
      sp-cost: 4
      prerequisites:
        - eco_xp_boost_3
      effect:
        category: XP_MULTIPLIER
        value: 0.20
        display-name: "+20% XP"

    eco_crop_2:
      name: "Green Thumb II"
      description: "Crops grow 20% faster in territory"
      branch: ECONOMY
      tier: 4
      sp-cost: 3
      prerequisites:
        - eco_crop_1
      effect:
        category: CROP_GROWTH_SPEED
        value: 0.20
        display-name: "+20% Crop Speed"

    # Tier 5
    eco_luck_3:
      name: "Fortune's Blessing"
      description: "Increase luck bonus by 15%"
      branch: ECONOMY
      tier: 5
      sp-cost: 4
      prerequisites:
        - eco_luck_2
      effect:
        category: LUCK_BONUS
        value: 0.15
        display-name: "+15% Luck"

    eco_crop_3:
      name: "Bountiful Harvest"
      description: "Crops grow 30% faster in territory"
      branch: ECONOMY
      tier: 5
      sp-cost: 4
      prerequisites:
        - eco_crop_2
      effect:
        category: CROP_GROWTH_SPEED
        value: 0.30
        display-name: "+30% Crop Speed"

    # ============ TERRITORY BRANCH ============
    # Tier 1
    terr_mob_spawn_1:
      name: "Wildlife Attractor I"
      description: "Increase mob spawn rate by 10% in territory"
      branch: TERRITORY
      tier: 1
      sp-cost: 1
      prerequisites: []
      effect:
        category: MOB_SPAWN_RATE
        value: 0.10
        display-name: "+10% Mob Spawns"

    terr_protection_1:
      name: "Fortification I"
      description: "Reduce damage taken by 3% in territory"
      branch: TERRITORY
      tier: 1
      sp-cost: 1
      prerequisites: []
      effect:
        category: PROTECTION_BOOST
        value: 0.03
        display-name: "-3% Damage"

    # Tier 2
    terr_mob_spawn_2:
      name: "Wildlife Attractor II"
      description: "Increase mob spawn rate by 20% in territory"
      branch: TERRITORY
      tier: 2
      sp-cost: 2
      prerequisites:
        - terr_mob_spawn_1
      effect:
        category: MOB_SPAWN_RATE
        value: 0.20
        display-name: "+20% Mob Spawns"

    terr_protection_2:
      name: "Fortification II"
      description: "Reduce damage taken by 6% in territory"
      branch: TERRITORY
      tier: 2
      sp-cost: 2
      prerequisites:
        - terr_protection_1
      effect:
        category: PROTECTION_BOOST
        value: 0.06
        display-name: "-6% Damage"

    # Tier 3
    terr_mob_spawn_3:
      name: "Wildlife Sanctuary"
      description: "Increase mob spawn rate by 30% in territory"
      branch: TERRITORY
      tier: 3
      sp-cost: 3
      prerequisites:
        - terr_mob_spawn_2
      effect:
        category: MOB_SPAWN_RATE
        value: 0.30
        display-name: "+30% Mob Spawns"

    terr_protection_3:
      name: "Bastion"
      description: "Reduce damage taken by 10% in territory"
      branch: TERRITORY
      tier: 3
      sp-cost: 3
      prerequisites:
        - terr_protection_2
      effect:
        category: PROTECTION_BOOST
        value: 0.10
        display-name: "-10% Damage"

    # Tier 4
    terr_crop_growth:
      name: "Fertile Grounds"
      description: "Crops grow 25% faster in territory"
      branch: TERRITORY
      tier: 4
      sp-cost: 3
      prerequisites:
        - terr_mob_spawn_2
      effect:
        category: CROP_GROWTH_SPEED
        value: 0.25
        display-name: "+25% Crop Speed"

    terr_protection_4:
      name: "Stronghold"
      description: "Reduce damage taken by 15% in territory"
      branch: TERRITORY
      tier: 4
      sp-cost: 4
      prerequisites:
        - terr_protection_3
      effect:
        category: PROTECTION_BOOST
        value: 0.15
        display-name: "-15% Damage"

    # Tier 5
    terr_mob_spawn_4:
      name: "Beast Haven"
      description: "Increase mob spawn rate by 40% in territory"
      branch: TERRITORY
      tier: 5
      sp-cost: 5
      prerequisites:
        - terr_mob_spawn_3
      effect:
        category: MOB_SPAWN_RATE
        value: 0.40
        display-name: "+40% Mob Spawns"

    terr_protection_5:
      name: "Impenetrable"
      description: "Reduce damage taken by 20% in territory"
      branch: TERRITORY
      tier: 5
      sp-cost: 5
      prerequisites:
        - terr_protection_4
      effect:
        category: PROTECTION_BOOST
        value: 0.20
        display-name: "-20% Damage"

    # ============ COMBAT BRANCH ============
    # Tier 1
    combat_damage_1:
      name: "Battle Training I"
      description: "Deal 5% more damage in territory"
      branch: COMBAT
      tier: 1
      sp-cost: 1
      prerequisites: []
      effect:
        category: DAMAGE_BOOST
        value: 0.05
        display-name: "+5% Damage"

    combat_xp_1:
      name: "Warrior's Wisdom I"
      description: "Gain 5% more XP from combat"
      branch: COMBAT
      tier: 1
      sp-cost: 1
      prerequisites: []
      effect:
        category: XP_MULTIPLIER
        value: 0.05
        display-name: "+5% Combat XP"

    # Tier 2
    combat_damage_2:
      name: "Battle Training II"
      description: "Deal 10% more damage in territory"
      branch: COMBAT
      tier: 2
      sp-cost: 2
      prerequisites:
        - combat_damage_1
      effect:
        category: DAMAGE_BOOST
        value: 0.10
        display-name: "+10% Damage"

    combat_protection_1:
      name: "Battle Hardened I"
      description: "Take 5% less damage in territory"
      branch: COMBAT
      tier: 2
      sp-cost: 2
      prerequisites:
        - combat_xp_1
      effect:
        category: PROTECTION_BOOST
        value: 0.05
        display-name: "-5% Damage Taken"

    # Tier 3
    combat_damage_3:
      name: "Battle Mastery"
      description: "Deal 15% more damage in territory"
      branch: COMBAT
      tier: 3
      sp-cost: 3
      prerequisites:
        - combat_damage_2
      effect:
        category: DAMAGE_BOOST
        value: 0.15
        display-name: "+15% Damage"

    combat_protection_2:
      name: "Battle Hardened II"
      description: "Take 10% less damage in territory"
      branch: COMBAT
      tier: 3
      sp-cost: 3
      prerequisites:
        - combat_protection_1
      effect:
        category: PROTECTION_BOOST
        value: 0.10
        display-name: "-10% Damage Taken"

    # Tier 4
    combat_damage_4:
      name: "Warlord's Might"
      description: "Deal 20% more damage in territory"
      branch: COMBAT
      tier: 4
      sp-cost: 4
      prerequisites:
        - combat_damage_3
      effect:
        category: DAMAGE_BOOST
        value: 0.20
        display-name: "+20% Damage"

    combat_xp_2:
      name: "Warrior's Wisdom II"
      description: "Gain 10% more XP from combat"
      branch: COMBAT
      tier: 4
      sp-cost: 3
      prerequisites:
        - combat_xp_1
        - combat_damage_2
      effect:
        category: XP_MULTIPLIER
        value: 0.10
        display-name: "+10% Combat XP"

    # Tier 5
    combat_damage_5:
      name: "Overwhelming Force"
      description: "Deal 25% more damage in territory"
      branch: COMBAT
      tier: 5
      sp-cost: 5
      prerequisites:
        - combat_damage_4
      effect:
        category: DAMAGE_BOOST
        value: 0.25
        display-name: "+25% Damage"

    combat_protection_3:
      name: "Unstoppable"
      description: "Take 15% less damage in territory"
      branch: COMBAT
      tier: 5
      sp-cost: 5
      prerequisites:
        - combat_protection_2
        - combat_damage_3
      effect:
        category: PROTECTION_BOOST
        value: 0.15
        display-name: "-15% Damage Taken"
