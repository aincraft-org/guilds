# Database configuration
database:
  # Database type: sqlite, mysql, mariadb, postgresql, h2
  type: sqlite

  # File path for SQLite/H2 (relative to plugin folder)
  file-path: "guilds.db"

  # Server connection settings (for MySQL, MariaDB, PostgreSQL)
  host: "localhost"
  port: 3306  # 3306 for MySQL/MariaDB, 5432 for PostgreSQL
  database: "guilds"
  username: "minecraft"
  password: "secure_password"

  # Connection pool settings (used for MySQL, MariaDB, PostgreSQL, H2)
  pool:
    maximum-pool-size: 10
    minimum-idle: 2
    connection-timeout: 30000
    idle-timeout: 600000
    max-lifetime: 1800000

# Guild chunk claim settings
claim:
  # Minimum buffer distance between different guild territories (in chunks)
  # Uses Manhattan distance: |dx| + |dz| must be >= buffer-distance
  # Set to 0 to disable buffer (allows adjacent claims)
  # Default: 4 chunks
  buffer-distance: 4

# Guild progression settings
progression:
  # Maximum level guilds can reach
  max-level: 100

  # Base XP required for level 2 (formula: base-xp * (growth-factor ^ (level-1)))
  base-xp: 1000

  # Exponential growth factor for XP requirements
  growth-factor: 1.15

  # XP sources configuration
  xp-sources:
    mob-kill:
      enabled: true
      base-xp: 10
      multipliers:
        ZOMBIE: 1.0
        SKELETON: 1.0
        CREEPER: 1.2
        SPIDER: 1.0
        ENDERMAN: 2.0
        BLAZE: 1.5
        WITHER_SKELETON: 3.0
        ENDER_DRAGON: 100.0
        WITHER: 50.0

    block-mining:
      enabled: true
      base-xp: 1
      multipliers:
        DIAMOND_ORE: 10.0
        DEEPSLATE_DIAMOND_ORE: 10.0
        EMERALD_ORE: 15.0
        DEEPSLATE_EMERALD_ORE: 15.0
        ANCIENT_DEBRIS: 20.0
        GOLD_ORE: 2.0
        DEEPSLATE_GOLD_ORE: 2.0
        IRON_ORE: 1.5
        DEEPSLATE_IRON_ORE: 1.5

    playtime:
      enabled: true
      xp-per-minute: 5
      check-interval-seconds: 60

  # Rewards for leveling up
  rewards:
    members-per-level: 2
    chunks-per-level: 5
    base-max-members: 100
    base-max-chunks: 50

  # Material costs for leveling up
  # Costs are procedurally generated per guild using weighted probability selection
  # Materials are defined via API with level ranges and probability curves
  # Defaults include:
  #   - Common materials (levels 1-50): Iron, Coal, Copper, Cobblestone, etc.
  #   - Uncommon materials (levels 20-75): Gold, Redstone, Lapis, Quartz, etc.
  #   - Rare materials (levels 40-100): Diamond, Emerald, Ender Pearl, etc.
  #   - Very rare materials (levels 70-100): Netherite, Nether Star, etc.
  #
  # Use the MaterialRegistry API to register custom materials with:
  #   - minLevel: Minimum guild level for material to appear
  #   - maxLevel: Maximum guild level for material to appear
  #   - baseAmount: Base quantity before exponential scaling
  #   - probability: Selection weight (higher = more likely)

# Guild Projects system
# Projects are collaborative guild goals that grant temporary buffs
projects:
  # Number of projects in the random pool per guild
  pool-size: 3

  # Interval in seconds to check for expired buffs
  expiration-check-interval: 60

  # Daily pool refresh interval in hours (default 24 hours)
  # When a guild accesses their project pool, if this many hours have passed since last refresh, the pool auto-refreshes
  refresh-interval-hours: 24

  # Project definitions
  # Each project has: name, description, required-level, buff, quests, materials
  definitions:
    xp_boost_i:
      name: "Experience Boost I"
      description: "Increases guild XP gain by 25%"
      required-level: 1
      buff:
        type: ECONOMY
        category: XP_MULTIPLIER
        value: 1.25
        display-name: "25% XP Boost"
        duration: 7d
      quests:
        - type: KILL_MOB
          target: ZOMBIE
          count: 500
          description: "Kill 500 Zombies"
        - type: MINE_BLOCK
          target: COAL_ORE
          count: 1000
          description: "Mine 1000 Coal Ore"
      materials:
        IRON_INGOT: 256
        COAL: 512

    xp_boost_ii:
      name: "Experience Boost II"
      description: "Increases guild XP gain by 50%"
      required-level: 25
      buff:
        type: ECONOMY
        category: XP_MULTIPLIER
        value: 1.5
        display-name: "50% XP Boost"
        duration: 5d
      quests:
        - type: KILL_MOB
          target: SKELETON
          count: 750
          description: "Kill 750 Skeletons"
        - type: CRAFT_ITEM
          target: GOLDEN_APPLE
          count: 64
          description: "Craft 64 Golden Apples"
      materials:
        GOLD_INGOT: 256
        DIAMOND: 64

    fertile_lands:
      name: "Fertile Lands"
      description: "Crops grow 50% faster in territory"
      required-level: 15
      buff:
        type: TERRITORY
        category: CROP_GROWTH_SPEED
        value: 1.5
        display-name: "50% Faster Crops"
        duration: 3d
      quests:
        - type: COLLECT_ITEM
          target: WHEAT
          count: 2000
          description: "Collect 2000 Wheat"
        - type: BREED_MOB
          target: COW
          count: 100
          description: "Breed 100 Cows"
      materials:
        BONE_MEAL: 512
        WHEAT_SEEDS: 256

    guardian_shield:
      name: "Guardian's Shield"
      description: "Members take 15% less damage in territory"
      required-level: 40
      buff:
        type: TERRITORY
        category: PROTECTION_BOOST
        value: 0.85
        display-name: "15% Damage Reduction"
        duration: 5d
      quests:
        - type: KILL_MOB
          target: WITHER_SKELETON
          count: 200
          description: "Kill 200 Wither Skeletons"
        - type: PLAYTIME_HOURS
          target: HOURS
          count: 50
          description: "50 hours of guild playtime"
      materials:
        DIAMOND: 128
        OBSIDIAN: 256
        BLAZE_ROD: 64

    lucky_harvest:
      name: "Lucky Harvest"
      description: "Increased luck on drops"
      required-level: 30
      buff:
        type: ECONOMY
        category: LUCK_BONUS
        value: 1.2
        display-name: "20% Luck Bonus"
        duration: 4d
      quests:
        - type: FISH_ITEM
          target: COD
          count: 500
          description: "Catch 500 Cod"
        - type: MINE_BLOCK
          target: DIAMOND_ORE
          count: 100
          description: "Mine 100 Diamond Ore"
      materials:
        EMERALD: 128
        RABBIT_FOOT: 32

# LLM Integration for creative project name/description generation
# When enabled, projects receive AI-generated thematic names and descriptions instead of generic ones
llm:
  # Enable LLM-based project name/description generation
  # Set to false to disable and use heuristic-based names only
  enabled: false

  # LLM provider: "groq" or "huggingface"
  provider: "groq"

  # Groq API configuration
  groq:
    # API key for Groq (get from https://console.groq.com)
    # Set via environment variable GROQ_API_KEY if not specified here
    api-key: ""
    # Model name (default: llama-3.1-8b-instant)
    # Other options: llama-3.1-70b-versatile, llama-3.1-405b-reasoning, mixtral-8x7b-32768
    model: "llama-3.1-8b-instant"

  # HuggingFace API configuration (alternative to Groq)
  huggingface:
    # API key for HuggingFace (get from https://huggingface.co/settings/tokens)
    # Set via environment variable HUGGINGFACE_API_KEY if not specified here
    api-key: ""
    # Model name (default: microsoft/Phi-3-mini-4k-instruct)
    # Other options: meta-llama/Llama-2-7b, mistralai/Mistral-7B-Instruct-v0.1
    model: "microsoft/Phi-3-mini-4k-instruct"

  # Cache settings for generated texts
  # LLM responses are cached to avoid repeated API calls
  cache:
    # Minimum cache size threshold before async generation is triggered
    # If cache falls below this, background generation is queued
    threshold: 20
    # Maximum number of texts to keep per buff type
    # Old entries are automatically pruned to maintain size
    max-per-buff-type: 100

  # Rate limiting to prevent API flooding
  # Only one batch generation request runs at a time across the entire server
  rate-limit-cooldown-seconds: 60
